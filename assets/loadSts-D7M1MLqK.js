var rs=Object.defineProperty;var is=(e,a,t)=>a in e?rs(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var U=(e,a,t)=>is(e,typeof a!="symbol"?a+"":a,t);import{c as os,r as as,n as ls,g as cs,E as ds,b as us,d as fs,e as hs,p as ps,N as gs,A as ms,f as Es,h as ys,S as bs,D as Ns,i as Ps,j as As,k as Ts,l as xs,m as Is,o as ws,q as Ss,t as vs,u as Cs,v as Rs,w as _s,x as Os,y as ks,C as Fs,z as $s,B as Vs,F as Ls,G as qs,H as Us,I as Ws,J as Bs,K as Ms,L as zs,M as Hs,O as Xs,P as js,Q as Gs,R as Ks,T as Js,U as vt,V as Zs,W as Z,a as Ct,X as Rt}from"./index-k4_TWyOj.js";import{t as Ys,f as Qs,a as Ds,b as en,s as tn,F as sn,H as nn,q as _t,e as q,c as rn,r as on,g as Ot}from"./index-n-m26fEV.js";function rt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}const an=(e,a)=>{for(const t of Object.keys(e)){const f=e[t],y=async function(o,r,l){const n=new f(o);if(typeof r=="function")this.send(n,r);else if(typeof l=="function"){if(typeof r!="object")throw new Error(`Expected http options but got ${typeof r}`);this.send(n,r||{},l)}else return this.send(n,r)},m=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");a.prototype[m]=y}},kt=e=>{const a="#text";for(const t in e)e.hasOwnProperty(t)&&e[t][a]!==void 0?e[t]=e[t][a]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=kt(e[t]));return e};var de={},ue={},it;function Xe(){return it||(it=1,function(e){const a=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=a+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",f="["+a+"]["+t+"]*",y=new RegExp("^"+f+"$"),m=function(r,l){const n=[];let s=l.exec(r);for(;s;){const b=[];b.startIndex=l.lastIndex-s[0].length;const h=s.length;for(let I=0;I<h;I++)b.push(s[I]);n.push(b),s=l.exec(r)}return n},o=function(r){const l=y.exec(r);return!(l===null||typeof l>"u")};e.isExist=function(r){return typeof r<"u"},e.isEmptyObject=function(r){return Object.keys(r).length===0},e.merge=function(r,l,n){if(l){const s=Object.keys(l),b=s.length;for(let h=0;h<b;h++)n==="strict"?r[s[h]]=[l[s[h]]]:r[s[h]]=l[s[h]]}},e.getValue=function(r){return e.isExist(r)?r:""},e.isName=o,e.getAllMatches=m,e.nameRegexp=f}(ue)),ue}var ot;function Ft(){if(ot)return de;ot=1;const e=Xe(),a={allowBooleanAttributes:!1,unpairedTags:[]};de.validate=function(c,u){u=Object.assign({},a,u);const A=[];let d=!1,E=!1;c[0]==="\uFEFF"&&(c=c.substr(1));for(let i=0;i<c.length;i++)if(c[i]==="<"&&c[i+1]==="?"){if(i+=2,i=f(c,i),i.err)return i}else if(c[i]==="<"){let P=i;if(i++,c[i]==="!"){i=y(c,i);continue}else{let N=!1;c[i]==="/"&&(N=!0,i++);let p="";for(;i<c.length&&c[i]!==">"&&c[i]!==" "&&c[i]!=="	"&&c[i]!==`
`&&c[i]!=="\r";i++)p+=c[i];if(p=p.trim(),p[p.length-1]==="/"&&(p=p.substring(0,p.length-1),i--),!w(p)){let g;return p.trim().length===0?g="Invalid space after '<'.":g="Tag '"+p+"' is an invalid name.",h("InvalidTag",g,x(c,i))}const O=r(c,i);if(O===!1)return h("InvalidAttr","Attributes for '"+p+"' have open quote.",x(c,i));let T=O.value;if(i=O.index,T[T.length-1]==="/"){const g=i-T.length;T=T.substring(0,T.length-1);const _=n(T,u);if(_===!0)d=!0;else return h(_.err.code,_.err.msg,x(c,g+_.err.line))}else if(N)if(O.tagClosed){if(T.trim().length>0)return h("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",x(c,P));if(A.length===0)return h("InvalidTag","Closing tag '"+p+"' has not been opened.",x(c,P));{const g=A.pop();if(p!==g.tagName){let _=x(c,g.tagStartPos);return h("InvalidTag","Expected closing tag '"+g.tagName+"' (opened in line "+_.line+", col "+_.col+") instead of closing tag '"+p+"'.",x(c,P))}A.length==0&&(E=!0)}}else return h("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",x(c,i));else{const g=n(T,u);if(g!==!0)return h(g.err.code,g.err.msg,x(c,i-T.length+g.err.line));if(E===!0)return h("InvalidXml","Multiple possible root nodes found.",x(c,i));u.unpairedTags.indexOf(p)!==-1||A.push({tagName:p,tagStartPos:P}),d=!0}for(i++;i<c.length;i++)if(c[i]==="<")if(c[i+1]==="!"){i++,i=y(c,i);continue}else if(c[i+1]==="?"){if(i=f(c,++i),i.err)return i}else break;else if(c[i]==="&"){const g=b(c,i);if(g==-1)return h("InvalidChar","char '&' is not expected.",x(c,i));i=g}else if(E===!0&&!t(c[i]))return h("InvalidXml","Extra text at the end",x(c,i));c[i]==="<"&&i--}}else{if(t(c[i]))continue;return h("InvalidChar","char '"+c[i]+"' is not expected.",x(c,i))}if(d){if(A.length==1)return h("InvalidTag","Unclosed tag '"+A[0].tagName+"'.",x(c,A[0].tagStartPos));if(A.length>0)return h("InvalidXml","Invalid '"+JSON.stringify(A.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return h("InvalidXml","Start tag expected.",1);return!0};function t(c){return c===" "||c==="	"||c===`
`||c==="\r"}function f(c,u){const A=u;for(;u<c.length;u++)if(c[u]=="?"||c[u]==" "){const d=c.substr(A,u-A);if(u>5&&d==="xml")return h("InvalidXml","XML declaration allowed only at the start of the document.",x(c,u));if(c[u]=="?"&&c[u+1]==">"){u++;break}else continue}return u}function y(c,u){if(c.length>u+5&&c[u+1]==="-"&&c[u+2]==="-"){for(u+=3;u<c.length;u++)if(c[u]==="-"&&c[u+1]==="-"&&c[u+2]===">"){u+=2;break}}else if(c.length>u+8&&c[u+1]==="D"&&c[u+2]==="O"&&c[u+3]==="C"&&c[u+4]==="T"&&c[u+5]==="Y"&&c[u+6]==="P"&&c[u+7]==="E"){let A=1;for(u+=8;u<c.length;u++)if(c[u]==="<")A++;else if(c[u]===">"&&(A--,A===0))break}else if(c.length>u+9&&c[u+1]==="["&&c[u+2]==="C"&&c[u+3]==="D"&&c[u+4]==="A"&&c[u+5]==="T"&&c[u+6]==="A"&&c[u+7]==="["){for(u+=8;u<c.length;u++)if(c[u]==="]"&&c[u+1]==="]"&&c[u+2]===">"){u+=2;break}}return u}const m='"',o="'";function r(c,u){let A="",d="",E=!1;for(;u<c.length;u++){if(c[u]===m||c[u]===o)d===""?d=c[u]:d!==c[u]||(d="");else if(c[u]===">"&&d===""){E=!0;break}A+=c[u]}return d!==""?!1:{value:A,index:u,tagClosed:E}}const l=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function n(c,u){const A=e.getAllMatches(c,l),d={};for(let E=0;E<A.length;E++){if(A[E][1].length===0)return h("InvalidAttr","Attribute '"+A[E][2]+"' has no space in starting.",k(A[E]));if(A[E][3]!==void 0&&A[E][4]===void 0)return h("InvalidAttr","Attribute '"+A[E][2]+"' is without value.",k(A[E]));if(A[E][3]===void 0&&!u.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+A[E][2]+"' is not allowed.",k(A[E]));const i=A[E][2];if(!I(i))return h("InvalidAttr","Attribute '"+i+"' is an invalid name.",k(A[E]));if(!d.hasOwnProperty(i))d[i]=1;else return h("InvalidAttr","Attribute '"+i+"' is repeated.",k(A[E]))}return!0}function s(c,u){let A=/\d/;for(c[u]==="x"&&(u++,A=/[\da-fA-F]/);u<c.length;u++){if(c[u]===";")return u;if(!c[u].match(A))break}return-1}function b(c,u){if(u++,c[u]===";")return-1;if(c[u]==="#")return u++,s(c,u);let A=0;for(;u<c.length;u++,A++)if(!(c[u].match(/\w/)&&A<20)){if(c[u]===";")break;return-1}return u}function h(c,u,A){return{err:{code:c,msg:u,line:A.line||A,col:A.col}}}function I(c){return e.isName(c)}function w(c){return e.isName(c)}function x(c,u){const A=c.substring(0,u).split(/\r?\n/);return{line:A.length,col:A[A.length-1].length+1}}function k(c){return c.startIndex+c[1].length}return de}var oe={},at;function ln(){if(at)return oe;at=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,f){return f},attributeValueProcessor:function(t,f){return f},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,f,y){return t}},a=function(t){return Object.assign({},e,t)};return oe.buildOptions=a,oe.defaultOptions=e,oe}var fe,lt;function cn(){if(lt)return fe;lt=1;class e{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,f){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:f})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}return fe=e,fe}var he,ct;function dn(){if(ct)return he;ct=1;const e=Xe();function a(n,s){const b={};if(n[s+3]==="O"&&n[s+4]==="C"&&n[s+5]==="T"&&n[s+6]==="Y"&&n[s+7]==="P"&&n[s+8]==="E"){s=s+9;let h=1,I=!1,w=!1,x="";for(;s<n.length;s++)if(n[s]==="<"&&!w){if(I&&y(n,s))s+=7,[entityName,val,s]=t(n,s+1),val.indexOf("&")===-1&&(b[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(I&&m(n,s))s+=8;else if(I&&o(n,s))s+=8;else if(I&&r(n,s))s+=9;else if(f)w=!0;else throw new Error("Invalid DOCTYPE");h++,x=""}else if(n[s]===">"){if(w?n[s-1]==="-"&&n[s-2]==="-"&&(w=!1,h--):h--,h===0)break}else n[s]==="["?I=!0:x+=n[s];if(h!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:b,i:s}}function t(n,s){let b="";for(;s<n.length&&n[s]!=="'"&&n[s]!=='"';s++)b+=n[s];if(b=b.trim(),b.indexOf(" ")!==-1)throw new Error("External entites are not supported");const h=n[s++];let I="";for(;s<n.length&&n[s]!==h;s++)I+=n[s];return[b,I,s]}function f(n,s){return n[s+1]==="!"&&n[s+2]==="-"&&n[s+3]==="-"}function y(n,s){return n[s+1]==="!"&&n[s+2]==="E"&&n[s+3]==="N"&&n[s+4]==="T"&&n[s+5]==="I"&&n[s+6]==="T"&&n[s+7]==="Y"}function m(n,s){return n[s+1]==="!"&&n[s+2]==="E"&&n[s+3]==="L"&&n[s+4]==="E"&&n[s+5]==="M"&&n[s+6]==="E"&&n[s+7]==="N"&&n[s+8]==="T"}function o(n,s){return n[s+1]==="!"&&n[s+2]==="A"&&n[s+3]==="T"&&n[s+4]==="T"&&n[s+5]==="L"&&n[s+6]==="I"&&n[s+7]==="S"&&n[s+8]==="T"}function r(n,s){return n[s+1]==="!"&&n[s+2]==="N"&&n[s+3]==="O"&&n[s+4]==="T"&&n[s+5]==="A"&&n[s+6]==="T"&&n[s+7]==="I"&&n[s+8]==="O"&&n[s+9]==="N"}function l(n){if(e.isName(n))return n;throw new Error(`Invalid entity name ${n}`)}return he=a,he}var pe,dt;function un(){if(dt)return pe;dt=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,a=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const t={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function f(m,o={}){if(o=Object.assign({},t,o),!m||typeof m!="string")return m;let r=m.trim();if(o.skipLike!==void 0&&o.skipLike.test(r))return m;if(o.hex&&e.test(r))return Number.parseInt(r,16);{const l=a.exec(r);if(l){const n=l[1],s=l[2];let b=y(l[3]);const h=l[4]||l[6];if(!o.leadingZeros&&s.length>0&&n&&r[2]!==".")return m;if(!o.leadingZeros&&s.length>0&&!n&&r[1]!==".")return m;{const I=Number(r),w=""+I;return w.search(/[eE]/)!==-1||h?o.eNotation?I:m:r.indexOf(".")!==-1?w==="0"&&b===""||w===b||n&&w==="-"+b?I:m:s?b===w||n+b===w?I:m:r===w||r===n+w?I:m}}else return m}}function y(m){return m&&m.indexOf(".")!==-1&&(m=m.replace(/0+$/,""),m==="."?m="0":m[0]==="."?m="0"+m:m[m.length-1]==="."&&(m=m.substr(0,m.length-1))),m}return pe=f,pe}var ge,ut;function fn(){if(ut)return ge;ut=1;const e=Xe(),a=cn(),t=dn(),f=un();class y{constructor(E){this.options=E,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(i,P)=>String.fromCharCode(Number.parseInt(P,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(i,P)=>String.fromCharCode(Number.parseInt(P,16))}},this.addExternalEntities=m,this.parseXml=s,this.parseTextData=o,this.resolveNameSpace=r,this.buildAttributesMap=n,this.isItStopNode=w,this.replaceEntitiesValue=h,this.readStopNodeData=u,this.saveTextToParentTag=I,this.addChild=b}}function m(d){const E=Object.keys(d);for(let i=0;i<E.length;i++){const P=E[i];this.lastEntities[P]={regex:new RegExp("&"+P+";","g"),val:d[P]}}}function o(d,E,i,P,N,p,O){if(d!==void 0&&(this.options.trimValues&&!P&&(d=d.trim()),d.length>0)){O||(d=this.replaceEntitiesValue(d));const T=this.options.tagValueProcessor(E,d,i,N,p);return T==null?d:typeof T!=typeof d||T!==d?T:this.options.trimValues?A(d,this.options.parseTagValue,this.options.numberParseOptions):d.trim()===d?A(d,this.options.parseTagValue,this.options.numberParseOptions):d}}function r(d){if(this.options.removeNSPrefix){const E=d.split(":"),i=d.charAt(0)==="/"?"/":"";if(E[0]==="xmlns")return"";E.length===2&&(d=i+E[1])}return d}const l=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function n(d,E,i){if(!this.options.ignoreAttributes&&typeof d=="string"){const P=e.getAllMatches(d,l),N=P.length,p={};for(let O=0;O<N;O++){const T=this.resolveNameSpace(P[O][1]);let g=P[O][4],_=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(_=this.options.transformAttributeName(_)),_==="__proto__"&&(_="#__proto__"),g!==void 0){this.options.trimValues&&(g=g.trim()),g=this.replaceEntitiesValue(g);const v=this.options.attributeValueProcessor(T,g,E);v==null?p[_]=g:typeof v!=typeof g||v!==g?p[_]=v:p[_]=A(g,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(p[_]=!0)}if(!Object.keys(p).length)return;if(this.options.attributesGroupName){const O={};return O[this.options.attributesGroupName]=p,O}return p}}const s=function(d){d=d.replace(/\r\n?/g,`
`);const E=new a("!xml");let i=E,P="",N="";for(let p=0;p<d.length;p++)if(d[p]==="<")if(d[p+1]==="/"){const T=k(d,">",p,"Closing Tag is not closed.");let g=d.substring(p+2,T).trim();if(this.options.removeNSPrefix){const z=g.indexOf(":");z!==-1&&(g=g.substr(z+1))}this.options.transformTagName&&(g=this.options.transformTagName(g)),i&&(P=this.saveTextToParentTag(P,i,N));const _=N.substring(N.lastIndexOf(".")+1);if(g&&this.options.unpairedTags.indexOf(g)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${g}>`);let v=0;_&&this.options.unpairedTags.indexOf(_)!==-1?(v=N.lastIndexOf(".",N.lastIndexOf(".")-1),this.tagsNodeStack.pop()):v=N.lastIndexOf("."),N=N.substring(0,v),i=this.tagsNodeStack.pop(),P="",p=T}else if(d[p+1]==="?"){let T=c(d,p,!1,"?>");if(!T)throw new Error("Pi Tag is not closed.");if(P=this.saveTextToParentTag(P,i,N),!(this.options.ignoreDeclaration&&T.tagName==="?xml"||this.options.ignorePiTags)){const g=new a(T.tagName);g.add(this.options.textNodeName,""),T.tagName!==T.tagExp&&T.attrExpPresent&&(g[":@"]=this.buildAttributesMap(T.tagExp,N,T.tagName)),this.addChild(i,g,N)}p=T.closeIndex+1}else if(d.substr(p+1,3)==="!--"){const T=k(d,"-->",p+4,"Comment is not closed.");if(this.options.commentPropName){const g=d.substring(p+4,T-2);P=this.saveTextToParentTag(P,i,N),i.add(this.options.commentPropName,[{[this.options.textNodeName]:g}])}p=T}else if(d.substr(p+1,2)==="!D"){const T=t(d,p);this.docTypeEntities=T.entities,p=T.i}else if(d.substr(p+1,2)==="!["){const T=k(d,"]]>",p,"CDATA is not closed.")-2,g=d.substring(p+9,T);P=this.saveTextToParentTag(P,i,N);let _=this.parseTextData(g,i.tagname,N,!0,!1,!0,!0);_==null&&(_=""),this.options.cdataPropName?i.add(this.options.cdataPropName,[{[this.options.textNodeName]:g}]):i.add(this.options.textNodeName,_),p=T+2}else{let T=c(d,p,this.options.removeNSPrefix),g=T.tagName;const _=T.rawTagName;let v=T.tagExp,z=T.attrExpPresent,st=T.closeIndex;this.options.transformTagName&&(g=this.options.transformTagName(g)),i&&P&&i.tagname!=="!xml"&&(P=this.saveTextToParentTag(P,i,N,!1));const nt=i;if(nt&&this.options.unpairedTags.indexOf(nt.tagname)!==-1&&(i=this.tagsNodeStack.pop(),N=N.substring(0,N.lastIndexOf("."))),g!==E.tagname&&(N+=N?"."+g:g),this.isItStopNode(this.options.stopNodes,N,g)){let M="";if(v.length>0&&v.lastIndexOf("/")===v.length-1)g[g.length-1]==="/"?(g=g.substr(0,g.length-1),N=N.substr(0,N.length-1),v=g):v=v.substr(0,v.length-1),p=T.closeIndex;else if(this.options.unpairedTags.indexOf(g)!==-1)p=T.closeIndex;else{const ce=this.readStopNodeData(d,_,st+1);if(!ce)throw new Error(`Unexpected end of ${_}`);p=ce.i,M=ce.tagContent}const le=new a(g);g!==v&&z&&(le[":@"]=this.buildAttributesMap(v,N,g)),M&&(M=this.parseTextData(M,g,N,!0,z,!0,!0)),N=N.substr(0,N.lastIndexOf(".")),le.add(this.options.textNodeName,M),this.addChild(i,le,N)}else{if(v.length>0&&v.lastIndexOf("/")===v.length-1){g[g.length-1]==="/"?(g=g.substr(0,g.length-1),N=N.substr(0,N.length-1),v=g):v=v.substr(0,v.length-1),this.options.transformTagName&&(g=this.options.transformTagName(g));const M=new a(g);g!==v&&z&&(M[":@"]=this.buildAttributesMap(v,N,g)),this.addChild(i,M,N),N=N.substr(0,N.lastIndexOf("."))}else{const M=new a(g);this.tagsNodeStack.push(i),g!==v&&z&&(M[":@"]=this.buildAttributesMap(v,N,g)),this.addChild(i,M,N),i=M}P="",p=st}}else P+=d[p];return E.child};function b(d,E,i){const P=this.options.updateTag(E.tagname,i,E[":@"]);P===!1||(typeof P=="string"&&(E.tagname=P),d.addChild(E))}const h=function(d){if(this.options.processEntities){for(let E in this.docTypeEntities){const i=this.docTypeEntities[E];d=d.replace(i.regx,i.val)}for(let E in this.lastEntities){const i=this.lastEntities[E];d=d.replace(i.regex,i.val)}if(this.options.htmlEntities)for(let E in this.htmlEntities){const i=this.htmlEntities[E];d=d.replace(i.regex,i.val)}d=d.replace(this.ampEntity.regex,this.ampEntity.val)}return d};function I(d,E,i,P){return d&&(P===void 0&&(P=Object.keys(E.child).length===0),d=this.parseTextData(d,E.tagname,i,!1,E[":@"]?Object.keys(E[":@"]).length!==0:!1,P),d!==void 0&&d!==""&&E.add(this.options.textNodeName,d),d=""),d}function w(d,E,i){const P="*."+i;for(const N in d){const p=d[N];if(P===p||E===p)return!0}return!1}function x(d,E,i=">"){let P,N="";for(let p=E;p<d.length;p++){let O=d[p];if(P)O===P&&(P="");else if(O==='"'||O==="'")P=O;else if(O===i[0])if(i[1]){if(d[p+1]===i[1])return{data:N,index:p}}else return{data:N,index:p};else O==="	"&&(O=" ");N+=O}}function k(d,E,i,P){const N=d.indexOf(E,i);if(N===-1)throw new Error(P);return N+E.length-1}function c(d,E,i,P=">"){const N=x(d,E+1,P);if(!N)return;let p=N.data;const O=N.index,T=p.search(/\s/);let g=p,_=!0;T!==-1&&(g=p.substring(0,T),p=p.substring(T+1).trimStart());const v=g;if(i){const z=g.indexOf(":");z!==-1&&(g=g.substr(z+1),_=g!==N.data.substr(z+1))}return{tagName:g,tagExp:p,closeIndex:O,attrExpPresent:_,rawTagName:v}}function u(d,E,i){const P=i;let N=1;for(;i<d.length;i++)if(d[i]==="<")if(d[i+1]==="/"){const p=k(d,">",i,`${E} is not closed`);if(d.substring(i+2,p).trim()===E&&(N--,N===0))return{tagContent:d.substring(P,i),i:p};i=p}else if(d[i+1]==="?")i=k(d,"?>",i+1,"StopNode is not closed.");else if(d.substr(i+1,3)==="!--")i=k(d,"-->",i+3,"StopNode is not closed.");else if(d.substr(i+1,2)==="![")i=k(d,"]]>",i,"StopNode is not closed.")-2;else{const p=c(d,i,">");p&&((p&&p.tagName)===E&&p.tagExp[p.tagExp.length-1]!=="/"&&N++,i=p.closeIndex)}}function A(d,E,i){if(E&&typeof d=="string"){const P=d.trim();return P==="true"?!0:P==="false"?!1:f(d,i)}else return e.isExist(d)?d:""}return ge=y,ge}var me={},ft;function hn(){if(ft)return me;ft=1;function e(m,o){return a(m,o)}function a(m,o,r){let l;const n={};for(let s=0;s<m.length;s++){const b=m[s],h=t(b);let I="";if(r===void 0?I=h:I=r+"."+h,h===o.textNodeName)l===void 0?l=b[h]:l+=""+b[h];else{if(h===void 0)continue;if(b[h]){let w=a(b[h],o,I);const x=y(w,o);b[":@"]?f(w,b[":@"],I,o):Object.keys(w).length===1&&w[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?w=w[o.textNodeName]:Object.keys(w).length===0&&(o.alwaysCreateTextNode?w[o.textNodeName]="":w=""),n[h]!==void 0&&n.hasOwnProperty(h)?(Array.isArray(n[h])||(n[h]=[n[h]]),n[h].push(w)):o.isArray(h,I,x)?n[h]=[w]:n[h]=w}}}return typeof l=="string"?l.length>0&&(n[o.textNodeName]=l):l!==void 0&&(n[o.textNodeName]=l),n}function t(m){const o=Object.keys(m);for(let r=0;r<o.length;r++){const l=o[r];if(l!==":@")return l}}function f(m,o,r,l){if(o){const n=Object.keys(o),s=n.length;for(let b=0;b<s;b++){const h=n[b];l.isArray(h,r+"."+h,!0,!0)?m[h]=[o[h]]:m[h]=o[h]}}}function y(m,o){const{textNodeName:r}=o,l=Object.keys(m).length;return!!(l===0||l===1&&(m[r]||typeof m[r]=="boolean"||m[r]===0))}return me.prettify=e,me}var Ee,ht;function pn(){if(ht)return Ee;ht=1;const{buildOptions:e}=ln(),a=fn(),{prettify:t}=hn(),f=Ft();class y{constructor(o){this.externalEntities={},this.options=e(o)}parse(o,r){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=f.validate(o,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const l=new a(this.options);l.addExternalEntities(this.externalEntities);const n=l.parseXml(o);return this.options.preserveOrder||n===void 0?n:t(n,this.options)}addEntity(o,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=r}}return Ee=y,Ee}var ye,pt;function gn(){if(pt)return ye;pt=1;const e=`
`;function a(r,l){let n="";return l.format&&l.indentBy.length>0&&(n=e),t(r,l,"",n)}function t(r,l,n,s){let b="",h=!1;for(let I=0;I<r.length;I++){const w=r[I],x=f(w);if(x===void 0)continue;let k="";if(n.length===0?k=x:k=`${n}.${x}`,x===l.textNodeName){let E=w[x];m(k,l)||(E=l.tagValueProcessor(x,E),E=o(E,l)),h&&(b+=s),b+=E,h=!1;continue}else if(x===l.cdataPropName){h&&(b+=s),b+=`<![CDATA[${w[x][0][l.textNodeName]}]]>`,h=!1;continue}else if(x===l.commentPropName){b+=s+`<!--${w[x][0][l.textNodeName]}-->`,h=!0;continue}else if(x[0]==="?"){const E=y(w[":@"],l),i=x==="?xml"?"":s;let P=w[x][0][l.textNodeName];P=P.length!==0?" "+P:"",b+=i+`<${x}${P}${E}?>`,h=!0;continue}let c=s;c!==""&&(c+=l.indentBy);const u=y(w[":@"],l),A=s+`<${x}${u}`,d=t(w[x],l,k,c);l.unpairedTags.indexOf(x)!==-1?l.suppressUnpairedNode?b+=A+">":b+=A+"/>":(!d||d.length===0)&&l.suppressEmptyNode?b+=A+"/>":d&&d.endsWith(">")?b+=A+`>${d}${s}</${x}>`:(b+=A+">",d&&s!==""&&(d.includes("/>")||d.includes("</"))?b+=s+l.indentBy+d+s:b+=d,b+=`</${x}>`),h=!0}return b}function f(r){const l=Object.keys(r);for(let n=0;n<l.length;n++){const s=l[n];if(r.hasOwnProperty(s)&&s!==":@")return s}}function y(r,l){let n="";if(r&&!l.ignoreAttributes)for(let s in r){if(!r.hasOwnProperty(s))continue;let b=l.attributeValueProcessor(s,r[s]);b=o(b,l),b===!0&&l.suppressBooleanAttributes?n+=` ${s.substr(l.attributeNamePrefix.length)}`:n+=` ${s.substr(l.attributeNamePrefix.length)}="${b}"`}return n}function m(r,l){r=r.substr(0,r.length-l.textNodeName.length-1);let n=r.substr(r.lastIndexOf(".")+1);for(let s in l.stopNodes)if(l.stopNodes[s]===r||l.stopNodes[s]==="*."+n)return!0;return!1}function o(r,l){if(r&&r.length>0&&l.processEntities)for(let n=0;n<l.entities.length;n++){const s=l.entities[n];r=r.replace(s.regex,s.val)}return r}return ye=a,ye}var be,gt;function mn(){if(gt)return be;gt=1;const e=gn(),a={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,r){return r},attributeValueProcessor:function(o,r){return r},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function t(o){this.options=Object.assign({},a,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=m),this.processTextOrObjNode=f,this.options.format?(this.indentate=y,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}t.prototype.build=function(o){return this.options.preserveOrder?e(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},t.prototype.j2x=function(o,r){let l="",n="";for(let s in o)if(Object.prototype.hasOwnProperty.call(o,s))if(typeof o[s]>"u")this.isAttribute(s)&&(n+="");else if(o[s]===null)this.isAttribute(s)?n+="":s[0]==="?"?n+=this.indentate(r)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(r)+"<"+s+"/"+this.tagEndChar;else if(o[s]instanceof Date)n+=this.buildTextValNode(o[s],s,"",r);else if(typeof o[s]!="object"){const b=this.isAttribute(s);if(b)l+=this.buildAttrPairStr(b,""+o[s]);else if(s===this.options.textNodeName){let h=this.options.tagValueProcessor(s,""+o[s]);n+=this.replaceEntitiesValue(h)}else n+=this.buildTextValNode(o[s],s,"",r)}else if(Array.isArray(o[s])){const b=o[s].length;let h="",I="";for(let w=0;w<b;w++){const x=o[s][w];if(!(typeof x>"u"))if(x===null)s[0]==="?"?n+=this.indentate(r)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(r)+"<"+s+"/"+this.tagEndChar;else if(typeof x=="object")if(this.options.oneListGroup){const k=this.j2x(x,r+1);h+=k.val,this.options.attributesGroupName&&x.hasOwnProperty(this.options.attributesGroupName)&&(I+=k.attrStr)}else h+=this.processTextOrObjNode(x,s,r);else if(this.options.oneListGroup){let k=this.options.tagValueProcessor(s,x);k=this.replaceEntitiesValue(k),h+=k}else h+=this.buildTextValNode(x,s,"",r)}this.options.oneListGroup&&(h=this.buildObjectNode(h,s,I,r)),n+=h}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const b=Object.keys(o[s]),h=b.length;for(let I=0;I<h;I++)l+=this.buildAttrPairStr(b[I],""+o[s][b[I]])}else n+=this.processTextOrObjNode(o[s],s,r);return{attrStr:l,val:n}},t.prototype.buildAttrPairStr=function(o,r){return r=this.options.attributeValueProcessor(o,""+r),r=this.replaceEntitiesValue(r),this.options.suppressBooleanAttributes&&r==="true"?" "+o:" "+o+'="'+r+'"'};function f(o,r,l){const n=this.j2x(o,l+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],r,n.attrStr,l):this.buildObjectNode(n.val,r,n.attrStr,l)}t.prototype.buildObjectNode=function(o,r,l,n){if(o==="")return r[0]==="?"?this.indentate(n)+"<"+r+l+"?"+this.tagEndChar:this.indentate(n)+"<"+r+l+this.closeTag(r)+this.tagEndChar;{let s="</"+r+this.tagEndChar,b="";return r[0]==="?"&&(b="?",s=""),(l||l==="")&&o.indexOf("<")===-1?this.indentate(n)+"<"+r+l+b+">"+o+s:this.options.commentPropName!==!1&&r===this.options.commentPropName&&b.length===0?this.indentate(n)+`<!--${o}-->`+this.newLine:this.indentate(n)+"<"+r+l+b+this.tagEndChar+o+this.indentate(n)+s}},t.prototype.closeTag=function(o){let r="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(r="/"):this.options.suppressEmptyNode?r="/":r=`></${o}`,r},t.prototype.buildTextValNode=function(o,r,l,n){if(this.options.cdataPropName!==!1&&r===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&r===this.options.commentPropName)return this.indentate(n)+`<!--${o}-->`+this.newLine;if(r[0]==="?")return this.indentate(n)+"<"+r+l+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(r,o);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+r+l+this.closeTag(r)+this.tagEndChar:this.indentate(n)+"<"+r+l+">"+s+"</"+r+this.tagEndChar}},t.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let r=0;r<this.options.entities.length;r++){const l=this.options.entities[r];o=o.replace(l.regex,l.val)}return o};function y(o){return this.options.indentBy.repeat(o)}function m(o){return o.startsWith(this.options.attributeNamePrefix)&&o!==this.options.textNodeName?o.substr(this.attrPrefixLen):!1}return be=t,be}var Ne,mt;function En(){if(mt)return Ne;mt=1;const e=Ft(),a=pn(),t=mn();return Ne={XMLParser:a,XMLValidator:e,XMLBuilder:t},Ne}var yn=En();const je=(e,a)=>os(e,a).then(t=>{if(t.length){const f=new yn.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,n)=>n.trim()===""&&n.includes(`
`)?"":void 0});f.addEntity("#xD","\r"),f.addEntity("#10",`
`);let y;try{y=f.parse(t,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:t}),l}const m="#text",o=Object.keys(y)[0],r=y[o];return r[m]&&(r[o]=r[m],delete r[m]),kt(r)}return{}}),bn=async(e,a)=>{const t=await je(e,a);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},Nn=async(e,a,t)=>({operation:cs(a).operation,region:await ls(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Pn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(a,t)=>({signingProperties:{config:a,context:t}})}}function An(e){return{schemeId:"smithy.api#noAuth"}}const Tn=e=>{const a=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{a.push(An());break}default:a.push(Pn(e))}return a},xn=e=>({...e,stsClientCtor:Ke}),In=e=>{const a=xn(e);return{...as(a)}},wn=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),$t={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Sn="3.744.0",vn={version:Sn},Vt="required",S="type",C="fn",R="argv",J="ref",Et=!1,Pe=!0,K="booleanEquals",V="stringEquals",Lt="sigv4",qt="sts",Ut="us-east-1",F="endpoint",yt="https://sts.{Region}.{PartitionResult#dnsSuffix}",H="tree",Y="error",Ge="getAttr",bt={[Vt]:!1,[S]:"String"},Ae={[Vt]:!0,default:!1,[S]:"Boolean"},Wt={[J]:"Endpoint"},Nt={[C]:"isSet",[R]:[{[J]:"Region"}]},L={[J]:"Region"},Pt={[C]:"aws.partition",[R]:[L],assign:"PartitionResult"},Bt={[J]:"UseFIPS"},Mt={[J]:"UseDualStack"},W={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Lt,signingName:qt,signingRegion:Ut}]},headers:{}},B={},At={conditions:[{[C]:V,[R]:[L,"aws-global"]}],[F]:W,[S]:F},zt={[C]:K,[R]:[Bt,!0]},Ht={[C]:K,[R]:[Mt,!0]},Tt={[C]:Ge,[R]:[{[J]:"PartitionResult"},"supportsFIPS"]},Xt={[J]:"PartitionResult"},xt={[C]:K,[R]:[!0,{[C]:Ge,[R]:[Xt,"supportsDualStack"]}]},It=[{[C]:"isSet",[R]:[Wt]}],wt=[zt],St=[Ht],Cn={parameters:{Region:bt,UseDualStack:Ae,UseFIPS:Ae,Endpoint:bt,UseGlobalEndpoint:Ae},rules:[{conditions:[{[C]:K,[R]:[{[J]:"UseGlobalEndpoint"},Pe]},{[C]:"not",[R]:It},Nt,Pt,{[C]:K,[R]:[Bt,Et]},{[C]:K,[R]:[Mt,Et]}],rules:[{conditions:[{[C]:V,[R]:[L,"ap-northeast-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"ap-south-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"ap-southeast-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"ap-southeast-2"]}],endpoint:W,[S]:F},At,{conditions:[{[C]:V,[R]:[L,"ca-central-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"eu-central-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"eu-north-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"eu-west-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"eu-west-2"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"eu-west-3"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"sa-east-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,Ut]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"us-east-2"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"us-west-1"]}],endpoint:W,[S]:F},{conditions:[{[C]:V,[R]:[L,"us-west-2"]}],endpoint:W,[S]:F},{endpoint:{url:yt,properties:{authSchemes:[{name:Lt,signingName:qt,signingRegion:"{Region}"}]},headers:B},[S]:F}],[S]:H},{conditions:It,rules:[{conditions:wt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[S]:Y},{conditions:St,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[S]:Y},{endpoint:{url:Wt,properties:B,headers:B},[S]:F}],[S]:H},{conditions:[Nt],rules:[{conditions:[Pt],rules:[{conditions:[zt,Ht],rules:[{conditions:[{[C]:K,[R]:[Pe,Tt]},xt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:B,headers:B},[S]:F}],[S]:H},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[S]:Y}],[S]:H},{conditions:wt,rules:[{conditions:[{[C]:K,[R]:[Tt,Pe]}],rules:[{conditions:[{[C]:V,[R]:[{[C]:Ge,[R]:[Xt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:B,headers:B},[S]:F},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:B,headers:B},[S]:F}],[S]:H},{error:"FIPS is enabled but this partition does not support FIPS",[S]:Y}],[S]:H},{conditions:St,rules:[{conditions:[xt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:B,headers:B},[S]:F}],[S]:H},{error:"DualStack is enabled but this partition does not support DualStack",[S]:Y}],[S]:H},At,{endpoint:{url:yt,properties:B,headers:B},[S]:F}],[S]:H}],[S]:H},{error:"Invalid Configuration: Missing Region",[S]:Y}]},Rn=Cn,_n=new ds({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),On=(e,a={})=>_n.get(e,()=>us(Rn,{endpointParams:e,logger:a.logger}));hs.aws=fs;const kn=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??en,base64Encoder:(e==null?void 0:e.base64Encoder)??Ds,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??On,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Tn,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new ms},{schemeId:"smithy.api#noAuth",identityProvider:a=>a.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Es}],logger:(e==null?void 0:e.logger)??new gs,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??ps,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Qs,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ys}),Fn=e=>{const a=ys(e),t=()=>a().then(Ss),f=kn(e);return{...f,...e,runtime:"browser",defaultsMode:a,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??xs,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(y=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Ts({serviceId:f.serviceId,clientVersion:vn.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??As,region:(e==null?void 0:e.region)??Ps("Region is missing"),requestHandler:sn.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||Ns),sha256:(e==null?void 0:e.sha256)??bs,streamCollector:(e==null?void 0:e.streamCollector)??tn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(ws)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Is))}},$n=e=>{const a=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,f=e.credentials;return{setHttpAuthScheme(y){const m=a.findIndex(o=>o.schemeId===y.schemeId);m===-1?a.push(y):a.splice(m,1,y)},httpAuthSchemes(){return a},setHttpAuthSchemeProvider(y){t=y},httpAuthSchemeProvider(){return t},setCredentials(y){f=y},credentials(){return f}}},Vn=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ae=e=>e,Ln=(e,a)=>{const t={...ae(Rs(e)),...ae(Cs(e)),...ae(vs(e)),...ae($n(e))};return a.forEach(f=>f.configure(t)),{...e,...ks(t),...Os(t),..._s(t),...Vn(t)}};class Ke extends Fs{constructor(...[t]){const f=Fn(t||{}),y=wn(f),m=$s(y),o=Vs(m),r=Ls(o),l=Gs(r),n=qs(l),s=In(n),b=Ln(s,(t==null?void 0:t.extensions)||[]);super(b);U(this,"config");this.config=b,this.middlewareStack.use(Us(this.config)),this.middlewareStack.use(Ws(this.config)),this.middlewareStack.use(Bs(this.config)),this.middlewareStack.use(Ms(this.config)),this.middlewareStack.use(zs(this.config)),this.middlewareStack.use(Hs(this.config)),this.middlewareStack.use(Xs(this.config,{httpAuthSchemeParametersProvider:Nn,identityProviderConfigProvider:async h=>new Ks({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(js(this.config))}destroy(){super.destroy()}}class X extends Js{constructor(a){super(a),Object.setPrototypeOf(this,X.prototype)}}const jt=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:vt}}),qn=e=>({...e,...e.Credentials&&{Credentials:jt(e.Credentials)}});class Je extends X{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});U(this,"name","ExpiredTokenException");U(this,"$fault","client");Object.setPrototypeOf(this,Je.prototype)}}class Ze extends X{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t});U(this,"name","MalformedPolicyDocumentException");U(this,"$fault","client");Object.setPrototypeOf(this,Ze.prototype)}}class Ye extends X{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t});U(this,"name","PackedPolicyTooLargeException");U(this,"$fault","client");Object.setPrototypeOf(this,Ye.prototype)}}class Qe extends X{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t});U(this,"name","RegionDisabledException");U(this,"$fault","client");Object.setPrototypeOf(this,Qe.prototype)}}class De extends X{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t});U(this,"name","IDPRejectedClaimException");U(this,"$fault","client");Object.setPrototypeOf(this,De.prototype)}}class et extends X{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t});U(this,"name","InvalidIdentityTokenException");U(this,"$fault","client");Object.setPrototypeOf(this,et.prototype)}}const Un=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:vt}}),Wn=e=>({...e,...e.Credentials&&{Credentials:jt(e.Credentials)}});class tt extends X{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t});U(this,"name","IDPCommunicationErrorException");U(this,"$fault","client");Object.setPrototypeOf(this,tt.prototype)}}const Bn=async(e,a)=>{const t=Qt;let f;return f=ss({...Qn(e),[es]:mr,[ts]:Dt}),Yt(a,t,"/",void 0,f)},Mn=async(e,a)=>{const t=Qt;let f;return f=ss({...Dn(e),[es]:Er,[ts]:Dt}),Yt(a,t,"/",void 0,f)},zn=async(e,a)=>{if(e.statusCode>=300)return Gt(e,a);const t=await je(e.body,a);let f={};return f=or(t.AssumeRoleResult),{$metadata:G(e),...f}},Hn=async(e,a)=>{if(e.statusCode>=300)return Gt(e,a);const t=await je(e.body,a);let f={};return f=ar(t.AssumeRoleWithWebIdentityResult),{$metadata:G(e),...f}},Gt=async(e,a)=>{const t={...e,body:await bn(e.body,a)},f=yr(e,t.body);switch(f){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Xn(t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Jn(t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Zn(t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Yn(t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await jn(t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Gn(t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Kn(t);default:const y=t.body;return gr({output:e,parsedBody:y.Error,errorCode:f})}},Xn=async(e,a)=>{const t=e.body,f=lr(t.Error),y=new Je({$metadata:G(e),...f});return Z(y,t)},jn=async(e,a)=>{const t=e.body,f=cr(t.Error),y=new tt({$metadata:G(e),...f});return Z(y,t)},Gn=async(e,a)=>{const t=e.body,f=dr(t.Error),y=new De({$metadata:G(e),...f});return Z(y,t)},Kn=async(e,a)=>{const t=e.body,f=ur(t.Error),y=new et({$metadata:G(e),...f});return Z(y,t)},Jn=async(e,a)=>{const t=e.body,f=fr(t.Error),y=new Ze({$metadata:G(e),...f});return Z(y,t)},Zn=async(e,a)=>{const t=e.body,f=hr(t.Error),y=new Ye({$metadata:G(e),...f});return Z(y,t)},Yn=async(e,a)=>{const t=e.body,f=pr(t.Error),y=new Qe({$metadata:G(e),...f});return Z(y,t)},Qn=(e,a)=>{var f,y,m,o;const t={};if(e[re]!=null&&(t[re]=e[re]),e[ie]!=null&&(t[ie]=e[ie]),e[se]!=null){const r=Kt(e[se]);((f=e[se])==null?void 0:f.length)===0&&(t.PolicyArns=[]),Object.entries(r).forEach(([l,n])=>{const s=`PolicyArns.${l}`;t[s]=n})}if(e[te]!=null&&(t[te]=e[te]),e[ee]!=null&&(t[ee]=e[ee]),e[Ue]!=null){const r=ir(e[Ue]);((y=e[Ue])==null?void 0:y.length)===0&&(t.Tags=[]),Object.entries(r).forEach(([l,n])=>{const s=`Tags.${l}`;t[s]=n})}if(e[Be]!=null){const r=rr(e[Be]);((m=e[Be])==null?void 0:m.length)===0&&(t.TransitiveTagKeys=[]),Object.entries(r).forEach(([l,n])=>{const s=`TransitiveTagKeys.${l}`;t[s]=n})}if(e[Ce]!=null&&(t[Ce]=e[Ce]),e[Le]!=null&&(t[Le]=e[Le]),e[We]!=null&&(t[We]=e[We]),e[j]!=null&&(t[j]=e[j]),e[Oe]!=null){const r=sr(e[Oe]);((o=e[Oe])==null?void 0:o.length)===0&&(t.ProvidedContexts=[]),Object.entries(r).forEach(([l,n])=>{const s=`ProvidedContexts.${l}`;t[s]=n})}return t},Dn=(e,a)=>{var f;const t={};if(e[re]!=null&&(t[re]=e[re]),e[ie]!=null&&(t[ie]=e[ie]),e[ze]!=null&&(t[ze]=e[ze]),e[ke]!=null&&(t[ke]=e[ke]),e[se]!=null){const y=Kt(e[se]);((f=e[se])==null?void 0:f.length)===0&&(t.PolicyArns=[]),Object.entries(y).forEach(([m,o])=>{const r=`PolicyArns.${m}`;t[r]=o})}return e[te]!=null&&(t[te]=e[te]),e[ee]!=null&&(t[ee]=e[ee]),t},Kt=(e,a)=>{const t={};let f=1;for(const y of e){if(y===null)continue;const m=er(y);Object.entries(m).forEach(([o,r])=>{t[`member.${f}.${o}`]=r}),f++}return t},er=(e,a)=>{const t={};return e[He]!=null&&(t[He]=e[He]),t},tr=(e,a)=>{const t={};return e[_e]!=null&&(t[_e]=e[_e]),e[Se]!=null&&(t[Se]=e[Se]),t},sr=(e,a)=>{const t={};let f=1;for(const y of e){if(y===null)continue;const m=tr(y);Object.entries(m).forEach(([o,r])=>{t[`member.${f}.${o}`]=r}),f++}return t},nr=(e,a)=>{const t={};return e[Re]!=null&&(t[Re]=e[Re]),e[Me]!=null&&(t[Me]=e[Me]),t},rr=(e,a)=>{const t={};let f=1;for(const y of e)y!==null&&(t[`member.${f}`]=y,f++);return t},ir=(e,a)=>{const t={};let f=1;for(const y of e){if(y===null)continue;const m=nr(y);Object.entries(m).forEach(([o,r])=>{t[`member.${f}.${o}`]=r}),f++}return t},Jt=(e,a)=>{const t={};return e[xe]!=null&&(t[xe]=q(e[xe])),e[Ie]!=null&&(t[Ie]=q(e[Ie])),t},or=(e,a)=>{const t={};return e[D]!=null&&(t[D]=Zt(e[D])),e[Q]!=null&&(t[Q]=Jt(e[Q])),e[ne]!=null&&(t[ne]=_t(e[ne])),e[j]!=null&&(t[j]=q(e[j])),t},ar=(e,a)=>{const t={};return e[D]!=null&&(t[D]=Zt(e[D])),e[Ve]!=null&&(t[Ve]=q(e[Ve])),e[Q]!=null&&(t[Q]=Jt(e[Q])),e[ne]!=null&&(t[ne]=_t(e[ne])),e[Fe]!=null&&(t[Fe]=q(e[Fe])),e[we]!=null&&(t[we]=q(e[we])),e[j]!=null&&(t[j]=q(e[j])),t},Zt=(e,a)=>{const t={};return e[Te]!=null&&(t[Te]=q(e[Te])),e[$e]!=null&&(t[$e]=q(e[$e])),e[qe]!=null&&(t[qe]=q(e[qe])),e[ve]!=null&&(t[ve]=rn(on(e[ve]))),t},lr=(e,a)=>{const t={};return e[$]!=null&&(t[$]=q(e[$])),t},cr=(e,a)=>{const t={};return e[$]!=null&&(t[$]=q(e[$])),t},dr=(e,a)=>{const t={};return e[$]!=null&&(t[$]=q(e[$])),t},ur=(e,a)=>{const t={};return e[$]!=null&&(t[$]=q(e[$])),t},fr=(e,a)=>{const t={};return e[$]!=null&&(t[$]=q(e[$])),t},hr=(e,a)=>{const t={};return e[$]!=null&&(t[$]=q(e[$])),t},pr=(e,a)=>{const t={};return e[$]!=null&&(t[$]=q(e[$])),t},G=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),gr=Zs(X),Yt=async(e,a,t,f,y)=>{const{hostname:m,protocol:o="https",port:r,path:l}=await e.endpoint(),n={protocol:o,hostname:m,port:r,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:a};return y!==void 0&&(n.body=y),new nn(n)},Qt={"content-type":"application/x-www-form-urlencoded"},Dt="2011-06-15",es="Action",Te="AccessKeyId",mr="AssumeRole",xe="AssumedRoleId",Q="AssumedRoleUser",Er="AssumeRoleWithWebIdentity",Ie="Arn",we="Audience",D="Credentials",Se="ContextAssertion",ee="DurationSeconds",ve="Expiration",Ce="ExternalId",Re="Key",te="Policy",se="PolicyArns",_e="ProviderArn",Oe="ProvidedContexts",ke="ProviderId",ne="PackedPolicySize",Fe="Provider",re="RoleArn",ie="RoleSessionName",$e="SecretAccessKey",Ve="SubjectFromWebIdentityToken",j="SourceIdentity",Le="SerialNumber",qe="SessionToken",Ue="Tags",We="TokenCode",Be="TransitiveTagKeys",ts="Version",Me="Value",ze="WebIdentityToken",He="arn",$="message",ss=e=>Object.entries(e).map(([a,t])=>rt(a)+"="+rt(t)).join("&"),yr=(e,a)=>{var t;if(((t=a.Error)==null?void 0:t.Code)!==void 0)return a.Error.Code;if(e.statusCode==404)return"NotFound"};class ns extends Ct.classBuilder().ep($t).m(function(a,t,f,y){return[Ot(f,this.serialize,this.deserialize),Rt(f,a.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,qn).ser(Bn).de(zn).build(){}class br extends Ct.classBuilder().ep($t).m(function(a,t,f,y){return[Ot(f,this.serialize,this.deserialize),Rt(f,a.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Un,Wn).ser(Mn).de(Hn).build(){}const Nr={AssumeRoleCommand:ns,AssumeRoleWithWebIdentityCommand:br};class Pr extends Ke{}an(Nr,Pr);const Ir=Object.freeze(Object.defineProperty({__proto__:null,AssumeRoleCommand:ns,STSClient:Ke},Symbol.toStringTag,{value:"Module"}));export{br as A,jt as C,Je as E,De as I,Ze as M,Ye as P,Qe as R,Ke as S,X as a,Pr as b,ns as c,qn as d,et as e,Un as f,Wn as g,tt as h,Ir as l};
